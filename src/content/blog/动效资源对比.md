---
author: Hello
pubDate: 2025-09-10
categories: 前端
title: 动效资源对比
description: '动效资源对比'
---

## 背景

参考文章([yy直播间礼物动效实现方案](https://github.com/yylive/YYEVA/blob/main/%E7%9B%B4%E6%92%AD%E9%97%B4%E7%A4%BC%E7%89%A9%E5%8A%A8%E6%95%88%E5%AE%9E%E7%8E%B0%E6%96%B9%E6%A1%88.md))

文章中把动画类型分配为3种：

1. 纯面向过程的动画记录方式（腾讯的Pag）

半面向过程半结果的动画记录方式（YY的SGVA、YY的Y2A、还有Spine）

记录结果方式（MP4，APNG等）

并可知动画的实现方案在大部分情况下，自身的体积和页面呈现性能是呈反比的，并且根据手机浏览器对动效本身格式解码算法的不同，性能上的体验也差之千里

### **Apng问题**

APNG 是基于 **PNG** 格式的扩展，它本质上是一个 **逐帧图像序列，**因为它是一种古早的动效实现形式，所以它本身作为现代浏览器的兼容性较好，其次作为记录结果方式的动效实现形式，它作为循环动效的使用最为方便

但是 APNG 是一个 **图像序列格式 ，**它要求每一帧被解码并渲染，在现代浏览器（如 Chrome、Firefox、Safari）虽然在渲染 APNG 时有一些优化，但是在诸多动效实现方案中，它的解码算法较慢，强依赖于cpu

并且APNG本身不支持 GPU 加速，这使得它作为动效类型选择上垫底

### Webp问题

WebP 是一种由 Google 推出的图像格式，支持静态和动态（动画）图像，具有非常高的压缩效率

因为受到chrome本身的支持（硬件解码支持），支持硬件加速，所以无论是体积大小还是cpu解码效率都是apng 的 promax版本

但是webp的致命缺点在于 **Safari** 直到最近的版本才开始支持 WebP ，这导致前端无法在正式场景大量使用webp

### Alpha video问题

虽然本身mp4格式压缩率强，体积小，有硬件加速的支持，也能有更加平滑的动画，但是h5并不能直接使用带透明通道的MP4，也不能使用端上的原生能力直接内嵌在h5内部，所以通常需要前端自身对该格式进行解码，然后用webgl渲染到页面上

此时alpha video就依赖于前端编码算法的额外处理了

再者在（ios14）手机下使用时，过多地使用webgl对**Alpha video** ，可能会造成crash问题

详情看：[WebGL限制](https://docs.popo.netease.com/lingxi/f8b06a5334be44b3b26bb098d9b3f94b?appVersion=4.14.2&deviceType=4&popo_hidenativebar=1&popo_noindicator=1&appVersion=4.13.1&deviceType=4&popo_hidenativebar=1&popo_noindicator=1&disposable_login_token=1)

### Css序列帧

CSS 序列帧动画通过改变背景图像的 background-position 来实现动画效果，用原生提供的方法进行支持，本身也可以通过css开启复合层，来实现硬件加速（GPU）

我们通过帧数的控制，也可以控制本身动画的性能损耗，简单高效，无需像alpha video那样进行额外的处理。

而本身的缺点在于：

压缩的情况下它对比apng，可能清晰度略微缺失，对比video，低帧的情况可能播放平滑度没能那么丝滑

### 关于硬件加速

在页面有较多动效的时候，不建议全部开启复合层（硬件加速），详情可以看：[用 CSS 开启硬件加速来提高网站性能](https://wghglory.github.io/gitbook/CSS/interview_css%E5%8A%A8%E7%94%BB%E7%A1%AC%E4%BB%B6%E5%8A%A0%E9%80%9F.html)

## 动效统一

基于以上基准建议，后期可以和设计同学沟通，统一为css序列帧的方案，当然它本身

至此无论是性能上的效果还是方案的统一性，都能遥遥领先

## 总结[](https://github.com/yylive/YYEVA/blob/main/%E7%9B%B4%E6%92%AD%E9%97%B4%E7%A4%BC%E7%89%A9%E5%8A%A8%E6%95%88%E5%AE%9E%E7%8E%B0%E6%96%B9%E6%A1%88.md#%E6%80%BB%E7%BB%93)

在首页简单交互场景下，使用css序列帧作为动效使用，在复杂交互场景下，使用spine骨骼动画作为动效使用[](https://github.com/yylive/YYEVA/blob/main/%E7%9B%B4%E6%92%AD%E9%97%B4%E7%A4%BC%E7%89%A9%E5%8A%A8%E6%95%88%E5%AE%9E%E7%8E%B0%E6%96%B9%E6%A1%88.md#%E6%80%BB%E7%BB%93)

![](https://office.netease.com/api/pub/file/download?path=cowork/2024/12/05/c56e0425e4b1422abb2dd1477f428e23.png&code=UVFnU3IyM21fMTc1NzQ5MjQ3MjQwNA==)